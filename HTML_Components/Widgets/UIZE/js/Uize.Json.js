/*
	UIZE JAVASCRIPT FRAMEWORK

	http://www.uize.com/reference/Uize.Json.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Json',builder:function(){'use strict';var _a=function(){},_b,_c=true,_d=false,_e='string',_f=[],_g={};var _h='       ',_i=_h.replace(/ /g,_h).replace(/ /g,_h),_j={RegExp:1,Date:1,String:1,Number:1,Boolean:1},_k=Uize.lookup(['break','boolean','case','catch','continue','const','debugger','default','delete','do','else','export','false','finally','for','function','if','import','in','instanceof','new','null','return','switch','this','throw','true','try','typeof','var','void','while','with','implements','interface','let','package','private','protected','public','static','yield'],_g);_a.from=function(_l){return _l?Uize.eval('0,('+_l+')'):null;};_a.to=function(_m,_n){_n=(typeof _n=='string'?_o[_n]:_n)||_o.nice;function _p(_q,_r){var _s=_n[_q];return typeof _s==_e?_s:_r;}var _t=[],_u=_p('indentChars','\t'),_v=_p('linebreakChars','\n'),_w=_p('quoteChar','\''),_x=new RegExp(_w,'g'),_y='\\'+_w,_z=_n.sortKeys===true,_A=_n.padKeys===true,_B=_n.keyDelimiter||':',
_C={left:0,center:0.5,right:1}[_n.keyAlign||'left'],_D=_n.whenToQuoteKeys||'auto';function _E(_F){return _i.substr(0,_F)}function _G(_e){return(_w+_e.replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(_x,_y)+_w);}function _H(_I,_J,_K,_L){var _M=0,_N=typeof _I;function _O(_P,_L){_t.push(_K+(_M++ ?'':_J)+_P+(_L?',':''));}if(_I==_b||_N=='number'||_N=='boolean'||_N=='function'){_O(_I,_L);}else if(_N==_e){_O(_G(_I),_L);}else if(_N=='object'){var _Q=_I.constructor,_R=_Q==Object||_Q==Array,_S;if(!_R)_S=(((_Q+'').match(typeof _Q=='object'?/\[object\s+([^\]]+)\]/:/^\s*function\s+([^\(]+)\s*\(/)||_f)[1])||'';if(_R||_S=='Object'||_S=='Array'){var _T=_K+_u;if(_I instanceof Array||(_I&&Uize.isFunction(_I.splice))){var _U=_I.length;if(_U){var _V=_U-1;_O('[');for(var _W= -1;++_W<_U;)_H(_I[_W],'',_T,_W<_V);_O(']',_L);}else{_O('[]',_L);}}else{var _X=Uize.keys(_I),_Y=_X.length;if(_Y){_z&&_X.sort();var _Z=function(_0){return(isNaN(+_0)?(/[^\w\$]|^\d/.test(_0)||_k[_0]==_g):_0!= +_0+''||_0<0);};
var _1=_D=='always';if(!_1&&_D=='auto all'){for(var _2= -1;++_2<_Y&& !_1;)_1=_1||_Z(_X[_2]);}var _3=[];for(var _2= -1;++_2<_Y;){var _0=_X[_2];_3[_2]=(_1||_Z(_0))?_G(_0):_0;}var _4=0;if(_A){for(var _2= -1;++_2<_Y;)_4=Math.max(_4,_3[_2].length);}var _5=_Y-1;_O('{');for(var _2= -1;++_2<_Y;){var _6='',_7=_3[_2];if(_A){var _8=_4-_7.length,_9=Math.round(_C*_8);_6=_E(_9);_7+=_E(_8-_9);}_H(_I[_X[_2]],_7+_B,_T+_6,_2<_5);}_O('}',_L);}else{_O('{}',_L);}}}else{if(_j[_S]){_O('new '+_S+' ('+(_S=='String'?_G(_I):_I.valueOf())+')',_L);}else{_O('{}',_L);}}}}_H(_m,'','');return _t.join(_v);};var _ba={indentChars:'\t',keyAlign:'left',keyDelimiter:':',linebreakChars:'\n',padKeys:_d,quoteChar:'\'',sortKeys:_d,whenToQuoteKeys:'auto'},_bb={whenToQuoteKeys:'always',quoteChar:'"'},_bc={indentChars:'',linebreakChars:''},_o=_a.encodingOptionsPresets={mini:Uize.copy(_ba,_bc),miniStrict:Uize.copy(_ba,_bc,_bb),nice:_ba,strict:Uize.copy(_ba,_bb)};return _a;}});