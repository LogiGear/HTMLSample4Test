/*
	UIZE JAVASCRIPT FRAMEWORK

	http://www.uize.com/reference/Uize.Widget.Bar.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Widget.Bar',superclass:'Uize.Widget.V2',required:'Uize.Node',builder:function(d_a){'use strict';var d_b,d_c=true,d_d=false,d_e=Uize.Node;var d_f=d_a.subclass(),d_g=d_f.prototype;d_g.d_h=function(d_i){var d_j=this,d_k=d_j.d_l==d_b?d_j.d_k:d_j.d_l,d_m=d_j.d_m;return(Uize.constrain(d_m?(d_k+Math.round((d_i-d_k)/d_m)*d_m):d_i,d_k,d_j.d_n==d_b?d_j.d_o:d_j.d_n));};d_g.d_p=function(){var d_j=this;if(d_j.isWired){var d_q=d_j.d_q,d_r=d_e.getDimensions(d_j.d_s),d_t=[d_r.width,d_r.height],d_u=d_j.d_u,d_v=d_e.getDimensions(d_u),d_w=[d_v.width,d_v.height],d_x=d_j.d_x,d_y=d_x(d_j.d_k),d_z=d_x(d_j.d_o),d_A=d_x(d_j.d_i),d_B=Math.round((d_A-d_y)/(d_z-d_y)*(d_t[d_q]-d_w[d_q])),d_C=d_q?d_t[1]-d_w[1]-d_B:d_B,d_D=Math.round(d_C+d_w[d_q]/2),d_i=Uize.isNumber(d_j.d_E)?d_j.d_i.toFixed(d_j.d_E):d_j.d_i;if(d_u){d_u.style[d_q?'top':'left']=d_C+'px';d_u.title=d_i;}d_j.d_F&&d_e.setClipRect(d_j.d_F,d_q?d_D:0,d_q?d_t[0]:d_D,d_t[1],0);d_j.d_G&&d_e.setClipRect(d_j.d_G,0,d_t[0],d_q?d_D:d_t[1],d_q?0:d_D);d_j.d_H&&
d_e.setInnerHtml(d_j.d_H,Uize.isNumber(d_j.d_E)?d_j.d_i.toFixed(d_j.d_E):d_j.d_i);}};d_g.updateUi=d_g.d_p;d_g.wireUi=function(){var d_j=this;if(!d_j.isWired){d_j.d_q=d_j.d_I=='vertical'?1:0;d_j.d_s=d_j.getNode('track');d_j.d_u=d_j.getNode('knob');d_j.d_F=d_j.getNode('full');d_j.d_G=d_j.getNode('empty');d_j.d_H=d_j.getNode('value');d_a.doMy(d_j,'wireUi');}};d_f.presets={};function d_J(){var d_j=this;d_j.set({d_i:d_j.d_h(d_j.d_i)});d_j.d_p();}d_f.stateProperties({d_E:'decimalPlacesToDisplay',d_m:{name:'increments',onChange:d_J,value:1},d_l:{name:'minValidValue',onChange:d_J},d_k:{name:'minValue',onChange:d_J,value:0},d_n:{name:'maxValidValue',onChange:d_J},d_o:{name:'maxValue',onChange:d_J,value:100},d_I:{name:'orientation',value:'vertical'},d_x:{name:'scaleFunc',value:function(d_K){return d_K;}},d_i:{name:'value',conformer:d_g.d_h,onChange:d_g.d_p,value:0}});return d_f;}});