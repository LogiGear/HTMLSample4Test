/*
	UIZE JAVASCRIPT FRAMEWORK

	http://www.uize.com/reference/Uize.Widget.V2.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Widget.V2',required:['Uize.Json','Uize.Node'],builder:function(c_a){'use strict';var c_b=undefined;var c_c={},c_d={};function c_e(c_f){return c_f.replace(/\./g,'_');}function c_g(c_h){return c_h.c_i||(c_h.c_i=c_e(c_h.moduleName));}function c_j(c_k){var c_l='';for(var c_m= -1,c_n=c_k.length,c_o;++c_m<c_n;){c_o=c_k[c_m].cssModule;if(c_o)c_l+=(c_l&&' + \' \' + ')+'\''+c_g(c_o)+'\' + classSuffix';}return new Function('nodeName','var classSuffix = (nodeName || \'\') && \'-\' + nodeName;'+'return '+c_l+';');}var c_p=c_a.subclass({alphastructor:function(){this.Class.c_q();},instanceMethods:{addChildren:function(c_r,c_s){for(var c_t in c_r){var c_u=Uize.copy(c_r[c_t],c_s),c_v=c_u.widgetClass;delete c_u.widgetClass;this.addChild(c_t,c_v,c_u);}},childHtml:function(c_w){var c_x=this,c_t=c_w.name,c_v=Uize.getModuleByName(c_w.widgetClass)||c_p,c_y=c_v.moduleName,c_r=c_x.children;delete c_w.name;delete c_w.widgetClass;var c_z=Uize.copy(c_w);if(!c_t){c_x.c_A||(c_x.c_A=0);
c_t='generatedChildName'+c_x.c_A++;}var c_B='',c_C=c_r[c_t],c_D= !!c_C;c_C?c_C.set(c_w):(c_C=c_x.addChild(c_t,c_v,c_w));c_B=c_C.get('built')?c_C.getHtml():'<div id="'+c_C.nodeId('shell')+'"></div>';c_D||Uize.copyInto(c_z,{widgetClass:c_y});if(!Uize.isEmpty(c_z))c_B+='<script type="text/javascript">\n'+'$'+c_C.get('idPrefix')+' = '+Uize.Json.to(c_z)+';\n'+'</script>';return c_B;},nodeId:function(c_E){return Uize.Node.joinIdPrefixAndNodeId(this.get('idPrefix'),c_E||'');},rootNodeCssClasses:function(){var c_x=this,c_F=c_x.c_F,c_G=c_x.Class.c_G,c_H=[c_x.cssClass()],c_I;for(var c_J in c_G)if(c_I=c_G[c_J](c_x.get(c_J)))c_H.push(c_x.cssClass(c_I));return c_H.join(' ')+(c_F&&' '+c_F);},cssClass:function(c_K){var c_L=this.Class,c_M=c_L.moduleName,c_N=c_L.c_N||(c_L.c_N={});if(!c_N[c_M]){var c_O=[],c_h=c_L;while(c_h){c_O.unshift(c_h);if(c_h==c_p)break;c_h=c_h.superclass;}c_N[c_M]=c_j(c_O);}return c_N[c_M](c_K);},c_P:function(){var c_x=this;if(c_x.isWired&&c_x.Class.enableRootNodeCssClasses){var c_Q=c_x.getNode();
if(c_Q){var c_R=c_x.rootNodeCssClasses();if(c_R!=c_Q.className)c_Q.className=c_R;}}},wireUi:function(){var c_x=this;if(!c_x.isWired){c_a.doMy(c_x,'wireUi');c_x.c_P();var c_P=function(){c_x.c_P()},c_S={},c_G=c_x.Class.c_G;for(var c_J in c_G)c_S['Changed.'+c_J]=c_P;c_x.wire(c_S);}},superHtml:function(c_T,c_U){return this.Class.superclass.get('html').process.call(this,Uize.copy(c_T,c_U));}},staticMethods:{c_q:function(){var c_x=this,c_f=c_x.moduleName;if(c_d[c_f]!=c_c){c_d[c_f]=c_c;c_x.superclass.c_q&&c_x.superclass.c_q();c_x.cssModule&&c_x.cssModule.add();}},stateToCssBindings:function(c_V){Uize.copyInto(this.c_G,Uize.map(c_V,Uize.resolveTransformer));}},staticProperties:{c_G:{},enableRootNodeCssClasses:true},stateProperties:{c_F:{name:'extraClasses',value:''}},set:{html:{process:function(){var c_x=this,c_r=c_x.children,c_W=[],c_X=0;for(var c_t in c_r)c_W[c_X++]=c_r[c_t].getHtml();return c_W.join('');}}}});Uize.copyInto(c_p.nonInheritableStatics,{c_N:1,cssModule:1});return c_p;}});